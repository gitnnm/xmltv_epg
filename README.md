
# XMLTV EPG

XMLTV EPG - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ NodeJS –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –≥–∏–¥–∞ (EPG) –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç XML-—Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–µ–ª–µ–ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ —Å–∂–∏–º–∞–µ—Ç –µ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç –≤ GZIP –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–≤–∞ JSON-—Ñ–∞–π–ª–∞: `sources.json` –∏ `channels.json`.

### –ü—Ä–∏–º–µ—Ä `sources.json`:
```json
{
  "sources": {
    "edem": "https://epg.lampa.stream/edem/epg/$id.json",
    "iptvx": "https://epg.iptvx.one/api/id/$id.json"
  }
}
```

### –ü—Ä–∏–º–µ—Ä `channels.json`:
```json
{
  "edem": {
    "12": {
      "name": "–†–æ–¥–Ω–æ–µ –ö–∏–Ω–æ",
      "logo": "https://epg.one/img2/12.png"
    },
    "18": {
      "name": "–†–µ–Ω –¢–í FHD",
      "logo": "https://epg.one/img2/2487.png"
    }
  },
  "iptvx": {
    "nasha-sibir-4k":{
    "name": "–ù–∞—à–∞ –°–∏–±–∏—Ä—å 4K",
    "logo": "https://iptvx.one/picons/nasha-sibir.png"
  },
  "magic-thriller": {
    "name": "Magic Thriller",
    "logo": "https://iptvx.one/picons/magic-thriller.png"
   }
  }
}
```

–≠—Ç–∏ —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –∫–∞–Ω–∞–ª—ã, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ EPG. –í –∫–∞–∂–¥–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–µ –∑–∞–¥–∞—é—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã —Å –∏—Ö ID, –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø.

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤—ã–ø–æ–ª–Ω–∏–≤ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   git clone https://github.com/gitnnm/xmltv_epg.git
   cd xmltv_epg
   ```
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Node.js](https://nodejs.org/).
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
   ```bash
   npm install
   ```

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
   –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:
   ```bash
   node main.js
   ```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Docker](https://www.docker.com/).
2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤—ã–ø–æ–ª–Ω–∏–≤ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   git clone https://github.com/gitnnm/xmltv_epg.git
   cd xmltv_epg
   ```
3. –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑, –≤—ã–ø–æ–ª–Ω–∏–≤ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   docker build -t xmltv_epg .
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   ```bash
   docker run -it --rm xmltv_epg
   ```
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã —á–µ—Ä–µ–∑:
   ```bash
   https://yourdomain.name/epg
   ```
6. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø–ª–µ–µ—Ä–µ:
   ```bash
   https://yourdomain.name/epg.xml.gz
   ```
–ú–æ–∂–Ω–æ –ø–æ –∂–µ–ª–∞–Ω–∏—é –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º, –¥–æ–±–∞–≤–∏—Ç—å cron –∑–∞–¥–∞—á—É —à—Ç–∞—Ç–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –ª–∏–±–æ —á–µ—Ä–µ–∑ pm2.
## ‚öñÔ∏èüìú –õ–∏—Ü–µ–Ω–∑–∏—è CC BY-NC-SA

–ê–≤—Ç–æ—Ä—Å–∫–æ–µ –ø—Ä–∞–≤–æ (c) 2024 Arty(gitnnm)

–ù–∞—Å—Ç–æ—è—â–∏–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ª—é–±–æ–º—É –ª–∏—Ü—É, –ø–æ–ª—É—á–∏–≤—à–µ–º—É –∫–æ–ø–∏—é –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º "–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ"), –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö –Ω—É–∂–¥ –∏ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª–µ–π, —Å –ø—Ä–∞–≤–æ–º –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Å–ª–æ–≤–∏–π:

1. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.
2. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å", –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ —è–≤–Ω—ã—Ö –∏–ª–∏ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ–º—ã—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π, –≤–∫–ª—é—á–∞—è, –Ω–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è—Å—å, –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ–º—ã–º–∏ –≥–∞—Ä–∞–Ω—Ç–∏—è–º–∏ —Ç–æ–≤–∞—Ä–Ω–æ–π –ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏, –ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ü–µ–ª–∏ –∏ –Ω–µ–Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤.
3. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏, —É–±—ã—Ç–∫–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞, –±—É–¥—å —Ç–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –ø—Ä–∞–≤–æ–Ω–∞—Ä—É—à–µ–Ω–∏—è –∏–ª–∏ –∏–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º.


